/* --- RICH PRESENCE ASSETS (Right Side) --- */
.game-asset-wrapper {
    position: relative; /* Allows absolute positioning of the small circle */
    width: 55px;        /* Slightly larger than before to show detail */
    height: 55px;
    margin-left: auto;  /* Push to right */
    flex-shrink: 0;
}

.card-asset-large {
    width: 100%;
    height: 100%;
    border-radius: 8px; /* Square with soft corners */
    object-fit: cover;
}

.card-asset-small {
    position: absolute;
    bottom: -5px; right: -5px; /* Hang off the edge slightly */
    width: 24px;
    height: 24px;
    border-radius: 50%; /* Circle */
    border: 3px solid #292b2f; /* Cutout effect (matches card bg) */
    background-color: #292b2f;
    object-fit: cover;
}

/* --- RICH TEXT --- */
/* Make subtext lines stack cleanly */
.card-subtext {
    display: block; 
    font-size: 0.7rem;
    color: #b9bbbe;
    margin-top: 1px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 160px; /* Force ellipsis if lines get super long */
}

/* The Timer Style */
.monospace-timer {
    font-family: 'JetBrains Mono', monospace; /* Monospace numbers don't jitter */
    font-size: 0.75rem;
    color: #fff; /* White or Green #43b581 */
    margin-top: 4px;
}
/* --- THE GLASS CARD BASE --- */
.card {
    position: relative;
    display: block;
    /* GLASS EFFECT */
    background: rgba(20, 20, 20, 0.6); /* See-through dark */
    backdrop-filter: blur(12px);       /* The blur magic */
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid rgba(255, 255, 255, 0.08); /* Subtle white border */
    border-radius: 20px;               /* Rounder corners */
    padding: 15px;
    text-decoration: none;
    overflow: hidden;
    transition: transform 0.2s ease, background 0.2s, border-color 0.2s;
}

.card:hover {
    background: rgba(40, 40, 40, 0.7);
    border-color: rgba(255, 255, 255, 0.2);
    transform: translateY(-2px);
}

/* --- CARD LAYOUT --- */
.card-flex {
    display: flex;
    align-items: center;
    gap: 15px; /* More breathing room */
    position: relative;
    z-index: 2;
    height: 100%;
}

/* --- TEXT STYLING --- */
.card-info {
    flex: 1; /* Takes up all available middle space */
    display: flex;
    flex-direction: column;
    justify-content: center;
    overflow: hidden;
    min-width: 0;
}

.card-title {
    font-size: 1rem;
    font-weight: 700;
    color: #fff;
    margin-bottom: 2px;
}

.card-detail {
    font-size: 0.8rem;
    color: #cccccc;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.card-subtext {
    font-size: 0.75rem;
    color: #888;
    margin-top: 2px;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* --- DISCORD RIGHT IMAGE (Album Art) --- */
.card-asset {
    width: 48px;  /* Square size */
    height: 48px;
    border-radius: 8px;
    object-fit: cover;
    margin-left: auto; /* Push to far right */
    box-shadow: 0 4px 10px rgba(0,0,0,0.3);
}

/* --- LAST.FM ACTIVITY TEXT (Was Pill Button) --- */
.lastfm-pill-btn {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    
    /* Removed background, padding, and radius to make it plain text */
    background-color: transparent; 
    padding: 0;
    border-radius: 0;
    
    font-size: 0.75rem;
    font-weight: 700;
    margin-top: 4px; /* Align closer to text like Discord card */
    
    width: 100%; /* ensure it takes full width for truncation */
}

/* (The hover block that used to brighten the red background is deleted) */

/* Ensure watermarks are subtle */
.card-bg-icon, .card-watermark {
    opacity: 0.05; /* Very faint */
}
/* --- RESET & BASICS --- */
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    background-color: #0d0d0d;
    color: #ffffff;
    font-family: 'JetBrains Mono', monospace;
    
    /* THE FIX: Ensure column direction */
    display: flex;
    flex-direction: column; /* <--- Forces vertical stacking */
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    
    overflow-y: auto;
    overflow-x: hidden;
    padding: 40px 0;
}

/* --- CLICK OVERLAY --- */
#overlay {
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: #000;
    z-index: 999; /* Always on top */
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: opacity 0.8s ease;
}

.enter-text {
    font-size: 1.5rem;
    animation: pulse 1.5s infinite;
}

/* --- BACKGROUND VIDEO --- */
#bg-video {
    position: fixed;
    top: 50%; left: 50%;
    min-width: 100%; min-height: 100%;
    width: auto; height: auto;
    z-index: -1; /* Behind everything */
    transform: translate(-50%, -50%);
    object-fit: cover;
    filter: brightness(0.4); /* Darker for better text readability */
}

/* --- MAIN CONTAINER (The Content) --- */
.container {
    text-align: center;
    width: 100%;
    
    /* PC WIDTH: Made wider (was 450px) */
    max-width: 680px; 
    
    padding: 20px;
    z-index: 10;
    
    /* Animation State */
    opacity: 0; 
    transition: opacity 1s ease, transform 1s ease;
}

/* --- RESPONSIVE LOGIC (Mobile Safety) --- */
/* If screen is smaller than 768px (Phones/Tablets), shrink nicely */
@media (max-width: 768px) {
    .container {
        max-width: 95%; /* Use almost full width on phone */
        padding: 15px;
    }
}

/* --- PROFILE PICTURE --- */
.profile-pic {
    width: 120px; 
    height: 120px;
    border-radius: 50%; /* Circle */
    border: 3px solid rgba(255, 255, 255, 0.2);
    margin-bottom: 15px;
    object-fit: cover; /* Prevents stretching */
    display: inline-block; /* Ensures it respects centering */
}

/* --- TEXT --- */
.username { 
    font-size: 2rem; 
    font-weight: 700; 
    margin-bottom: 5px; 
    text-shadow: 0 0 10px rgba(0,0,0,0.5);
}

.bio { 
    color: #cccccc; 
    font-size: 0.9rem; 
    margin-bottom: 25px; 
    line-height: 1.4;
    max-width: 90%;
    margin-left: auto;
    margin-right: auto;
}

/* --- LINKS CONTAINER (Horizontal Row) --- */
.links { 
    display: flex; 
    flex-wrap: wrap;        /* Allows icons to drop to next line on mobile */
    justify-content: center; /* Center them horizontally */
    align-items: center;
    gap: 25px;              /* Space between icons */
    margin-top: 15px;       /* Separation from the cards above */
    width: 100%;
}

/* --- INDIVIDUAL ICONS --- */
.link-item {
    display: flex;
    align-items: center;
    justify-content: center;
    
    /* Remove old button styling */
    background-color: transparent;
    border: none;
    
    /* Icon Size & Color */
    font-size: 1.8rem;      /* Big icons (approx 28px) */
    color: rgba(255, 255, 255, 0.6); /* Dimmed white by default */
    
    /* Smooth Animation */
    transition: all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1);
    
    /* Remove padding/margins from old buttons */
    padding: 5px; 
    text-decoration: none;
}

/* --- HOVER GLOW EFFECT --- */
.link-item:hover {
    color: #ffffff;         /* Bright white */
    transform: translateY(-4px) scale(1.1); /* Float up and grow */
    
    /* The Glow Magic */
    text-shadow: 0 0 15px rgba(255, 255, 255, 0.8), 
                 0 0 30px rgba(255, 255, 255, 0.4);
}

/* Optional: Make osu! icon pink on hover (to match your image) */
.link-item[title="osu!"]:hover {
    color: #ff66aa;
    text-shadow: 0 0 15px rgba(255, 102, 170, 0.8);
}

/* --- ANIMATIONS --- */
@keyframes pulse {
    0% { opacity: 0.5; }
    50% { opacity: 1; }
    100% { opacity: 0.5; }
}

/* --- GRID LAYOUT (The Container) --- */
.grid-row {
    display: grid;
    grid-template-columns: 1fr 1fr; /* Two equal columns */
    gap: 12px;
    width: 100%;
    margin-bottom: 12px; /* Space before the main links */
}

/* --- THE CARD BASE --- */
.card {
    position: relative; /* So we can position the background icon absolutely */
    display: block;
    background-color: #292b2f; /* Discord Dark Grey */
    border-radius: 8px;
    padding: 10px;
    text-decoration: none;
    overflow: hidden; /* Clips the giant background icon */
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: transform 0.2s ease, background-color 0.2s;
}

.card:hover {
    background-color: #2f3136; /* Slightly lighter on hover */
    transform: translateY(-2px);
}

/* --- CONTENTS LAYOUT --- */
.card-flex {
    display: flex;
    align-items: center;
    gap: 10px;
    position: relative;
    z-index: 2; /* Sits on top of the background icon */
}

/* --- AVATAR AREA --- */
.card-avatar-wrapper {
    position: relative;
    flex-shrink: 0; /* Prevents avatar from squishing */
}

.card-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    object-fit: cover;
}

/* --- TEXT AREA --- */
.card-info {
    display: flex;
    flex-direction: column;
    overflow: hidden; /* Keeps text inside the box */
    text-align: left; /* Align text to left like Discord */
}

.card-label {
    font-size: 0.65rem;
    color: #b9bbbe;
    text-transform: uppercase;
    font-weight: 700;
    line-height: 1;
    margin-bottom: 2px;
}

.card-title {
    font-size: 0.9rem;
    color: #fff;
    font-weight: 700;
    white-space: nowrap; /* No wrapping */
}

.card-detail {
    font-size: 0.75rem;
    color: #b9bbbe;
    
    /* TRUNCATION LOGIC (The "..." effect) */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    align-items: center;
    display: flex !important;
    width: 100%;
}

/* The Game Name: Allowed to shrink and ellipsis (...) */
.activity-name {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    margin-right: 4px; /* Tiny gap before the +1 */
}

/* The Counter: NEVER shrink, always visible */
.activity-count {
    flex-shrink: 0; 
    white-space: nowrap;
}

/* --- BACKGROUND DECORATION --- */
.card-bg-icon {
    position: absolute;
    right: -10px;
    bottom: -15px;
    font-size: 4rem;
    color: rgba(0, 0, 0, 0.2); /* Very faint watermark */
    transform: rotate(-15deg);
    z-index: 1;
    pointer-events: none;
}

/* --- SPECIFIC COLORS --- */
.discord-hero { background-color: #292b2f; }
.widget-hero { background-color: #1a1a1a; } /* Darker for the second button */

/* --- LAST.FM SPECIFICS --- */

/* 1. The Red "View Profile" Text */
.lastfm-btn {
    color: #b90000; /* Official Last.fm Red */
}

/* 2. Optional: Hover Glow Effect for Last.fm card */
.lastfm-card:hover {
    border-color: rgba(185, 0, 0, 0.3); /* Subtle red border on hover */
    box-shadow: 0 4px 20px rgba(185, 0, 0, 0.1); /* Faint red glow */
}

/* 3. Adjust Watermark position for Last.fm icon (it's wider than YT) */
.lastfm-card .card-watermark {
    font-size: 3rem;
    right: -15px; /* Pull it slightly more right so it doesn't overlap text */
}

/* --- WIDGET CARD REPAIR KIT --- */

/* 1. Force the Avatar to be small and square */
.card-avatar-small {
    width: 42px !important;  /* Force width */
    height: 42px !important; /* Force height */
    border-radius: 8px;      /* Rounded corners */
    object-fit: cover;       /* Prevent stretching */
    flex-shrink: 0;          /* Don't let the text squash the image */
}

/* 2. Fix the Watermark (The background icon) */
.card-watermark {
    position: absolute;      /* Take it out of the normal text flow */
    top: -5px; 
    right: -10px;            /* Position top-right */
    font-size: 3.5rem;       /* Make it huge */
    opacity: 0.1;            /* Make it faint/ghostly */
    transform: rotate(15deg);
    pointer-events: none;    /* Click-through */
    z-index: 0;              /* Sit behind text */
}

/* 3. Ensure the Flex layout works */
.card-flex {
    display: flex;           /* Put image and text side-by-side */
    align-items: center;     /* Align them vertically */
    gap: 12px;               /* Space between image and text */
    position: relative;      /* Sit on top of watermark */
    z-index: 1;
}

/* 4. Last.fm Specific Colors */
.lastfm-btn {
    color: #b90000;          /* Last.fm Red */
    font-weight: 700;
    font-size: 0.75rem;
    text-transform: uppercase;
}

/* Optional: Make the Last.fm card hover glow red */
.lastfm-card:hover {
    border-color: rgba(185, 0, 0, 0.4);
    box-shadow: 0 4px 20px rgba(185, 0, 0, 0.15);
}

/* --- AVATAR WRAPPER --- */
/* This holds the image and the dot together */
.avatar-wrapper {
    position: relative; /* Essential for positioning the dot */
    width: 40px;        /* Match your avatar size */
    height: 40px;
    flex-shrink: 0;     /* Prevent squishing */
}

.card-avatar {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    object-fit: cover;
    display: block;     /* Removes tiny bottom gap */
}

/* --- THE STATUS DOT --- */
.status-dot {
    position: absolute;
    bottom: -2px;       /* Adjust these to move dot placement */
    right: -2px;
    width: 14px;        /* Size of the dot */
    height: 14px;
    border-radius: 50%; /* Make it a circle */
    
    /* THE CUTOUT TRICK: Border matches card background */
    border: 3px solid #292b2f; 
    
    z-index: 10;        /* Sit on top of image */
}

/* --- DISCORD STATUS COLORS --- */
.online { background-color: #57F287; } /* Green */
.idle   { background-color: #FEE75C; } /* Yellow */
.dnd    { background-color: #ED4245; } /* Red */
.offline{ background-color: #747F8D; } /* Grey */

/* --- LAST.FM TRUNCATION --- */
.song-name-text {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    
    /* Ensure it works inside the Flex button */
    flex: 1; 
    min-width: 0; /* Critical flexbox hack to allow shrinking */
}

/* Ensure the parent button handles the layout correctly */
.card-action-btn {
    /* We already have inline-flex, but let's ensure it handles width */
    max-width: 100%; 
}